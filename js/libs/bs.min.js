/**
 * Este archivo contiene Bootstrap.js, Bootbox.js y select2.js
 */
!function(t){"use strict";t(function(){t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in s)if(void 0!==e.style[t])return s[t]}();return t&&{end:t}}()})}(window.jQuery),!function(t){"use strict";var e='[data-dismiss="alert"]',s=function(s){t(s).on("click",e,this.close)};s.prototype.close=function(e){function s(){i.trigger("closed").remove()}var i,n=t(this),o=n.attr("data-target");o||(o=n.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),i=t(o),e&&e.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(e=t.Event("close")),e.isDefaultPrevented()||(i.removeClass("in"),t.support.transition&&i.hasClass("fade")?i.on(t.support.transition.end,s):s())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),n=i.data("alert");n||i.data("alert",n=new s(this)),"string"==typeof e&&n[e].call(i)})},t.fn.alert.Constructor=s,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.alert.data-api",e,s.prototype.close)}(window.jQuery),!function(t){"use strict";var e=function(e,s){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,s)};e.prototype.setState=function(t){var e="disabled",s=this.$element,i=s.data(),n=s.is("input")?"val":"html";t+="Text",i.resetText||s.data("resetText",s[n]()),s[n](i[t]||this.options[t]),setTimeout(function(){"loadingText"==t?s.addClass(e).attr(e,e):s.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var s=t.fn.button;t.fn.button=function(s){return this.each(function(){var i=t(this),n=i.data("button"),o="object"==typeof s&&s;n||i.data("button",n=new e(this,o)),"toggle"==s?n.toggle():s&&n.setState(s)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=s,this},t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var s=t(e.target);s.hasClass("btn")||(s=s.closest(".btn")),s.button("toggle")})}(window.jQuery),!function(t){"use strict";var e=function(e,s){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=s,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(e){var s=this.getActiveIndex(),i=this;if(!(e>this.$items.length-1||0>e))return this.sliding?this.$element.one("slid",function(){i.to(e)}):s==e?this.pause().cycle():this.slide(e>s?"next":"prev",t(this.$items[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(e,s){var i,n=this.$element.find(".item.active"),o=s||n[e](),a=this.interval,r="next"==e?"left":"right",l="next"==e?"first":"last",c=this;if(this.sliding=!0,a&&this.pause(),o=o.length?o:this.$element.find(".item")[l](),i=t.Event("slide",{relatedTarget:o[0],direction:r}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(c.$indicators.children()[c.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;o.addClass(e),o[0].offsetWidth,n.addClass(r),o.addClass(r),this.$element.one(t.support.transition.end,function(){o.removeClass([e,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;n.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}}};var s=t.fn.carousel;t.fn.carousel=function(s){return this.each(function(){var i=t(this),n=i.data("carousel"),o=t.extend({},t.fn.carousel.defaults,"object"==typeof s&&s),a="string"==typeof s?s:o.slide;n||i.data("carousel",n=new e(this,o)),"number"==typeof s?n.to(s):a?n[a]():o.interval&&n.pause().cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=s,this},t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var s,i,n=t(this),o=t(n.attr("data-target")||(s=n.attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")),a=t.extend({},o.data(),n.data());o.carousel(a),(i=n.attr("data-slide-to"))&&o.data("carousel").pause().to(i).cycle(),e.preventDefault()})}(window.jQuery),!function(t){"use strict";var e=function(e,s){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,s),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,s,i,n;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),s=t.camelCase(["scroll",e].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(n=i.data("collapse"),n&&n.transitioning)return;i.collapse("hide"),n||i.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][s])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,s,i){var n=this,o=function(){"show"==s.type&&n.reset(),n.transitioning=0,n.$element.trigger(i)};this.$element.trigger(s),s.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var s=t.fn.collapse;t.fn.collapse=function(s){return this.each(function(){var i=t(this),n=i.data("collapse"),o=t.extend({},t.fn.collapse.defaults,i.data(),"object"==typeof s&&s);n||i.data("collapse",n=new e(this,o)),"string"==typeof s&&n[s]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=s,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var s,i=t(this),n=i.attr("data-target")||e.preventDefault()||(s=i.attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,""),o=t(n).data("collapse")?"toggle":i.data();i[t(n).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(n).collapse(o)})}(window.jQuery),!function(t){"use strict";function e(){t(i).each(function(){s(t(this)).removeClass("open")})}function s(e){var s,i=e.attr("data-target");return i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),s=i&&t(i),s&&s.length||(s=e.parent()),s}var i="[data-toggle=dropdown]",n=function(e){var s=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){s.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(){var i,n,o=t(this);if(!o.is(".disabled, :disabled"))return i=s(o),n=i.hasClass("open"),e(),n||i.toggleClass("open"),o.focus(),!1},keydown:function(e){var n,o,a,r,l;if(/(38|40|27)/.test(e.keyCode)&&(n=t(this),e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled"))){if(a=s(n),r=a.hasClass("open"),!r||r&&27==e.keyCode)return 27==e.which&&a.find(i).focus(),n.click();o=t("[role=menu] li:not(.divider):visible a",a),o.length&&(l=o.index(o.filter(":focus")),38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus())}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var s=t(this),i=s.data("dropdown");i||s.data("dropdown",i=new n(this)),"string"==typeof e&&i[e].call(s)})},t.fn.dropdown.Constructor=n,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown-menu",function(t){t.stopPropagation()}).on("click.dropdown.data-api",i,n.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",n.prototype.keydown)}(window.jQuery),!function(t){"use strict";var e=function(e,s){this.options=s,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,s=t.Event("show");this.$element.trigger(s),this.isShown||s.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var s=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),s&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),s?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(e){e&&e.preventDefault();e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,s=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(s),e.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&s;if(this.$backdrop=t('<div class="modal-backdrop '+s+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()}};var s=t.fn.modal;t.fn.modal=function(s){return this.each(function(){var i=t(this),n=i.data("modal"),o=t.extend({},t.fn.modal.defaults,i.data(),"object"==typeof s&&s);n||i.data("modal",n=new e(this,o)),"string"==typeof s?n[s]():o.show&&n.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=s,this},t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var s=t(this),i=s.attr("href"),n=t(s.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=n.data("modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},n.data(),s.data());e.preventDefault(),n.modal(o).one("hide",function(){s.focus()})})}(window.jQuery),!function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,s,i){var n,o,a,r,l;for(this.type=e,this.$element=t(s),this.options=this.getOptions(i),this.enabled=!0,a=this.options.trigger.split(" "),l=a.length;l--;)r=a[l],"click"==r?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=r&&(n="hover"==r?"mouseenter":"focus",o="hover"==r?"mouseleave":"blur",this.$element.on(n+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var s,i=t.fn[this.type].defaults,n={};return this._options&&t.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)},this),s=t(e.currentTarget)[this.type](n).data(this.type),s.options.delay&&s.options.delay.show?(clearTimeout(this.timeout),s.hoverState="in",void(this.timeout=setTimeout(function(){"in"==s.hoverState&&s.show()},s.options.delay.show))):s.show()},leave:function(e){var s=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),s.options.delay&&s.options.delay.hide?(s.hoverState="out",void(this.timeout=setTimeout(function(){"out"==s.hoverState&&s.hide()},s.options.delay.hide))):s.hide()},show:function(){var e,s,i,n,o,a,r=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(r),r.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),s=this.getPosition(),i=e[0].offsetWidth,n=e[0].offsetHeight,o){case"bottom":a={top:s.top+s.height,left:s.left+s.width/2-i/2};break;case"top":a={top:s.top-n,left:s.left+s.width/2-i/2};break;case"left":a={top:s.top+s.height/2-n/2,left:s.left-i};break;case"right":a={top:s.top+s.height/2-n/2,left:s.left+s.width}}this.applyPlacement(a,o),this.$element.trigger("shown")}},applyPlacement:function(t,e){var s,i,n,o,a=this.tip(),r=a[0].offsetWidth,l=a[0].offsetHeight;a.offset(t).addClass(e).addClass("in"),s=a[0].offsetWidth,i=a[0].offsetHeight,"top"==e&&i!=l&&(t.top=t.top+l-i,o=!0),"bottom"==e||"top"==e?(n=0,t.left<0&&(n=-2*t.left,t.left=0,a.offset(t),s=a[0].offsetWidth,i=a[0].offsetHeight),this.replaceArrow(n-r+s,s,"left")):this.replaceArrow(i-l,i,"top"),o&&a.offset(t)},replaceArrow:function(t,e,s){this.arrow().css(s,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){s.off(t.support.transition.end).detach()},500);s.one(t.support.transition.end,function(){clearTimeout(e),s.detach()})}var s=this.tip(),i=t.Event("hide");return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(s.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():s.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,s=this.options;return t=e.attr("data-original-title")||("function"==typeof s.title?s.title.call(e[0]):s.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var s=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;s.tip().hasClass("in")?s.hide():s.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var s=t.fn.tooltip;t.fn.tooltip=function(s){return this.each(function(){var i=t(this),n=i.data("tooltip"),o="object"==typeof s&&s;n||i.data("tooltip",n=new e(this,o)),"string"==typeof s&&n[s]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=s,this}}(window.jQuery),!function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),s=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](s),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,s=this.options;return t=("function"==typeof s.content?s.content.call(e[0]):s.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var s=t.fn.popover;t.fn.popover=function(s){return this.each(function(){var i=t(this),n=i.data("popover"),o="object"==typeof s&&s;n||i.data("popover",n=new e(this,o)),"string"==typeof s&&n[s]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=s,this}}(window.jQuery),!function(t){"use strict";function e(e,s){var i,n=t.proxy(this.process,this),o=t(t(e).is("body")?window:e);this.options=t.extend({},t.fn.scrollspy.defaults,s),this.$scrollElement=o.on("scroll.scroll-spy.data-api",n),this.selector=(this.options.target||(i=t(e).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e,s=this;this.offsets=t([]),this.targets=t([]),e=this.$body.find(this.selector).map(function(){var e=t(this),i=e.data("target")||e.attr("href"),n=/^#\w/.test(i)&&t(i);return n&&n.length&&[[n.position().top+(!t.isWindow(s.$scrollElement.get(0))&&s.$scrollElement.scrollTop()),i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){s.offsets.push(this[0]),s.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,s=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=s-this.$scrollElement.height(),n=this.offsets,o=this.targets,a=this.activeTarget;if(e>=i)return a!=(t=o.last()[0])&&this.activate(t);for(t=n.length;t--;)a!=o[t]&&e>=n[t]&&(!n[t+1]||e<=n[t+1])&&this.activate(o[t])},activate:function(e){var s,i;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',s=t(i).parent("li").addClass("active"),s.parent(".dropdown-menu").length&&(s=s.closest("li.dropdown").addClass("active")),s.trigger("activate")}};var s=t.fn.scrollspy;t.fn.scrollspy=function(s){return this.each(function(){var i=t(this),n=i.data("scrollspy"),o="object"==typeof s&&s;n||i.data("scrollspy",n=new e(this,o)),"string"==typeof s&&n[s]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=s,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,s,i,n=this.element,o=n.closest("ul:not(.dropdown-menu)"),a=n.attr("data-target");a||(a=n.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),n.parent("li").hasClass("active")||(e=o.find(".active:last a")[0],i=t.Event("show",{relatedTarget:e}),n.trigger(i),i.isDefaultPrevented()||(s=t(a),this.activate(n.parent("li"),o),this.activate(s,s.parent(),function(){n.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,s,i){function n(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var o=s.find("> .active"),a=i&&t.support.transition&&o.hasClass("fade");a?o.one(t.support.transition.end,n):n(),o.removeClass("in")}};var s=t.fn.tab;t.fn.tab=function(s){return this.each(function(){var i=t(this),n=i.data("tab");n||i.data("tab",n=new e(this)),"string"==typeof s&&n[s]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=s,this},t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),!function(t){"use strict";var e=function(e,s){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,s),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,e?this.process(e):this)},process:function(e){var s=this;return e=t.grep(e,function(t){return s.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,s=[],i=[],n=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?i.push(e):n.push(e):s.push(e);return s.concat(i,n)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var s=this;return e=t(e).map(function(e,i){return e=t(s.options.item).attr("data-value",i),e.find("a").html(s.highlighter(i)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),s=e.next();s.length||(s=t(this.$menu.find("li")[0])),s.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var s=t.fn.typeahead;t.fn.typeahead=function(s){return this.each(function(){var i=t(this),n=i.data("typeahead"),o="object"==typeof s&&s;n||i.data("typeahead",n=new e(this,o)),"string"==typeof s&&n[s]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=s,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var e=t(this);e.data("typeahead")||e.typeahead(e.data())})}(window.jQuery),!function(t){"use strict";var e=function(e,s){this.options=t.extend({},t.fn.affix.defaults,s),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,s=t(document).height(),i=this.$window.scrollTop(),n=this.$element.offset(),o=this.options.offset,a=o.bottom,r=o.top,l="affix affix-top affix-bottom";"object"!=typeof o&&(a=r=o),"function"==typeof r&&(r=o.top()),"function"==typeof a&&(a=o.bottom()),e=null!=this.unpin&&i+this.unpin<=n.top?!1:null!=a&&n.top+this.$element.height()>=s-a?"bottom":null!=r&&r>=i?"top":!1,this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?n.top-i:null,this.$element.removeClass(l).addClass("affix"+(e?"-"+e:"")))}};var s=t.fn.affix;t.fn.affix=function(s){return this.each(function(){var i=t(this),n=i.data("affix"),o="object"==typeof s&&s;n||i.data("affix",n=new e(this,o)),"string"==typeof s&&n[s]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=s,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),s=e.data();s.offset=s.offset||{},s.offsetBottom&&(s.offset.bottom=s.offsetBottom),s.offsetTop&&(s.offset.top=s.offsetTop),e.affix(s)})})}(window.jQuery);var bootbox=window.bootbox||function(t,e){function s(t,e){return"undefined"==typeof e&&(e=i),"string"==typeof u[e][t]?u[e][t]:e!=n?s(t,n):t}var i="en",n="en",o=!1,a="static",r="javascript:;",l="",c={},h={},d={};d.setLocale=function(t){for(var e in u)if(e==t)return void(i=t);throw new Error("Invalid locale: "+t)},d.addLocale=function(t,e){"undefined"==typeof u[t]&&(u[t]={});for(var s in e)u[t][s]=e[s]},d.setIcons=function(t){h=t,("object"!=typeof h||null===h)&&(h={})},d.setBtnClasses=function(t){c=t,("object"!=typeof c||null===c)&&(c={})},d.alert=function(){var t="",e=s("OK"),i=null;switch(arguments.length){case 1:t=arguments[0];break;case 2:t=arguments[0],"function"==typeof arguments[1]?i=arguments[1]:e=arguments[1];break;case 3:t=arguments[0],e=arguments[1],i=arguments[2];break;default:throw new Error("Incorrect number of arguments: expected 1-3")}return d.dialog(t,{label:e,icon:h.OK,"class":c.OK,callback:i},{onEscape:i||!0})},d.confirm=function(){var t="",e=s("CANCEL"),i=s("CONFIRM"),n=null;switch(arguments.length){case 1:t=arguments[0];break;case 2:t=arguments[0],"function"==typeof arguments[1]?n=arguments[1]:e=arguments[1];break;case 3:t=arguments[0],e=arguments[1],"function"==typeof arguments[2]?n=arguments[2]:i=arguments[2];break;case 4:t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];break;default:throw new Error("Incorrect number of arguments: expected 1-4")}var o=function(){return"function"==typeof n?n(!1):void 0},a=function(){return"function"==typeof n?n(!0):void 0};return d.dialog(t,[{label:e,icon:h.CANCEL,"class":c.CANCEL,callback:o},{label:i,icon:h.CONFIRM,"class":c.CONFIRM,callback:a}],{onEscape:o})},d.prompt=function(){var t="",i=s("CANCEL"),n=s("CONFIRM"),o=null,a="";switch(arguments.length){case 1:t=arguments[0];break;case 2:t=arguments[0],"function"==typeof arguments[1]?o=arguments[1]:i=arguments[1];break;case 3:t=arguments[0],i=arguments[1],"function"==typeof arguments[2]?o=arguments[2]:n=arguments[2];break;case 4:t=arguments[0],i=arguments[1],n=arguments[2],o=arguments[3];break;case 5:t=arguments[0],i=arguments[1],n=arguments[2],o=arguments[3],a=arguments[4];break;default:throw new Error("Incorrect number of arguments: expected 1-5")}var r=t,l=e("<form></form>");l.append("<input class='input-block-level' autocomplete=off type=text value='"+a+"' />");var u=function(){return"function"==typeof o?o(null):void 0},f=function(){return"function"==typeof o?o(l.find("input[type=text]").val()):void 0},p=d.dialog(l,[{label:i,icon:h.CANCEL,"class":c.CANCEL,callback:u},{label:n,icon:h.CONFIRM,"class":c.CONFIRM,callback:f}],{header:r,show:!1,onEscape:u});return p.on("shown",function(){l.find("input[type=text]").focus(),l.on("submit",function(t){t.preventDefault(),p.find(".btn-primary").click()})}),p.modal("show"),p},d.dialog=function(s,i,n){function c(){var t=null;"function"==typeof n.onEscape&&(t=n.onEscape()),t!==!1&&S.modal("hide")}var h="",d=[];n||(n={}),"undefined"==typeof i?i=[]:"undefined"==typeof i.length&&(i=[i]);for(var u=i.length;u--;){var f=null,p=null,m=null,g="",v=null;if("undefined"==typeof i[u].label&&"undefined"==typeof i[u]["class"]&&"undefined"==typeof i[u].callback){var w=0,C=null;for(var b in i[u])if(C=b,++w>1)break;1==w&&"function"==typeof i[u][b]&&(i[u].label=C,i[u].callback=i[u][b])}"function"==typeof i[u].callback&&(v=i[u].callback),i[u]["class"]?m=i[u]["class"]:u==i.length-1&&i.length<=2&&(m="btn-primary"),i[u].link!==!0&&(m="btn "+m),f=i[u].label?i[u].label:"Option "+(u+1),i[u].icon&&(g="<i class='"+i[u].icon+"'></i> "),p=i[u].href?i[u].href:r,h="<a data-handler='"+u+"' class='"+m+"' href='"+p+"'>"+g+f+"</a>"+h,d[u]=v}var y=["<div class='bootbox modal' tabindex='-1' style='overflow:hidden;'>"];if(n.header){var x="";("undefined"==typeof n.headerCloseButton||n.headerCloseButton)&&(x="<a href='"+r+"' class='close'>&times;</a>"),y.push("<div class='modal-header'>"+x+"<h3>"+n.header+"</h3></div>")
}y.push("<div class='modal-body'></div>"),h&&y.push("<div class='modal-footer'>"+h+"</div>"),y.push("</div>");var S=e(y.join("\n")),k="undefined"==typeof n.animate?o:n.animate;k===!0&&S.addClass("fade");var $="undefined"==typeof n.classes?l:n.classes;return $&&S.addClass($),S.find(".modal-body").html(s),S.on("keyup.dismiss.modal",function(t){27===t.which&&n.onEscape&&c("escape")}),S.on("click","a.close",function(t){t.preventDefault(),c("close")}),S.on("shown",function(){S.find("a.btn-primary:first").focus()}),S.on("hidden",function(t){t.target===this&&S.remove()}),S.on("click",".modal-footer a",function(t){var s=e(this).data("handler"),n=d[s],o=null;("undefined"==typeof s||"undefined"==typeof i[s].href)&&(t.preventDefault(),"function"==typeof n&&(o=n(t)),o!==!1&&S.modal("hide"))}),e("body").append(S),S.modal({backdrop:"undefined"==typeof n.backdrop?a:n.backdrop,keyboard:!1,show:!1}),S.on("show",function(){e(t).off("focusin.modal")}),("undefined"==typeof n.show||n.show===!0)&&S.modal("show"),S},d.modal=function(){var t,s,i,n={onEscape:null,keyboard:!0,backdrop:a};switch(arguments.length){case 1:t=arguments[0];break;case 2:t=arguments[0],"object"==typeof arguments[1]?i=arguments[1]:s=arguments[1];break;case 3:t=arguments[0],s=arguments[1],i=arguments[2];break;default:throw new Error("Incorrect number of arguments: expected 1-3")}return n.header=s,i="object"==typeof i?e.extend(n,i):n,d.dialog(t,[],i)},d.hideAll=function(){e(".bootbox").modal("hide")},d.animate=function(t){o=t},d.backdrop=function(t){a=t},d.classes=function(t){l=t};var u={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return d}(document,window.jQuery);window.bootbox=bootbox,function(t){"undefined"==typeof t.fn.each2&&t.fn.extend({each2:function(e){for(var s=t([0]),i=-1,n=this.length;++i<n&&(s.context=s[0]=this[i])&&e.call(s[0],i,s)!==!1;);return this}})}(jQuery),function(t,e){"use strict";function s(t,e){for(var s=0,i=e.length;i>s;s+=1)if(n(t,e[s]))return s;return-1}function i(){var e=t(F);e.appendTo("body");var s={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),s}function n(t,s){return t===s?!0:t===e||s===e?!1:null===t||null===s?!1:t.constructor===String?t+""==s+"":s.constructor===String?s+""==t+"":!1}function o(e,s){var i,n,o;if(null===e||e.length<1)return[];for(i=e.split(s),n=0,o=i.length;o>n;n+=1)i[n]=t.trim(i[n]);return i}function a(t){return t.outerWidth(!1)-t.width()}function r(s){var i="keyup-change-value";s.on("keydown",function(){t.data(s,i)===e&&t.data(s,i,s.val())}),s.on("keyup",function(){var n=t.data(s,i);n!==e&&s.val()!==n&&(t.removeData(s,i),s.trigger("keyup-change"))})}function l(s){s.on("mousemove",function(s){var i=L;(i===e||i.x!==s.pageX||i.y!==s.pageY)&&t(s.target).trigger("mousemove-filtered",s)})}function c(t,s,i){i=i||e;var n;return function(){var e=arguments;window.clearTimeout(n),n=window.setTimeout(function(){s.apply(i,e)},t)}}function h(t){var e,s=!1;return function(){return s===!1&&(e=t(),s=!0),e}}function d(t,e){var i=c(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){s(t.target,e.get())>=0&&i(t)})}function u(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,s=t[0],i=t.val().length;t.focus(),t.is(":visible")&&s===document.activeElement&&(s.setSelectionRange?s.setSelectionRange(i,i):s.createTextRange&&(e=s.createTextRange(),e.collapse(!1),e.select()))},0)}function f(e){e=t(e)[0];var s=0,i=0;if("selectionStart"in e)s=e.selectionStart,i=e.selectionEnd-s;else if("selection"in document){e.focus();var n=document.selection.createRange();i=document.selection.createRange().text.length,n.moveStart("character",-e.value.length),s=n.text.length-i}return{offset:s,length:i}}function p(t){t.preventDefault(),t.stopPropagation()}function m(t){t.preventDefault(),t.stopImmediatePropagation()}function g(e){if(!D){var s=e[0].currentStyle||window.getComputedStyle(e[0],null);D=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:s.fontSize,fontFamily:s.fontFamily,fontStyle:s.fontStyle,fontWeight:s.fontWeight,letterSpacing:s.letterSpacing,textTransform:s.textTransform,whiteSpace:"nowrap"}),D.attr("class","select2-sizer"),t("body").append(D)}return D.text(e.val()),D.width()}function v(e,s,i){var n,o,a=[];n=e.attr("class"),n&&(n=""+n,t(n.split(" ")).each2(function(){0===this.indexOf("select2-")&&a.push(this)})),n=s.attr("class"),n&&(n=""+n,t(n.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(o=i(this),o&&a.push(this))})),e.attr("class",a.join(" "))}function w(t,e,s,i){var n=t.toUpperCase().indexOf(e.toUpperCase()),o=e.length;return 0>n?void s.push(i(t)):(s.push(i(t.substring(0,n))),s.push("<span class='select2-match'>"),s.push(i(t.substring(n,n+o))),s.push("</span>"),void s.push(i(t.substring(n+o,t.length))))}function C(t){var e={"\\":"&#92;","&":"&","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function b(s){var i,n=0,o=null,a=s.quietMillis||100,r=s.url,l=this;return function(c){window.clearTimeout(i),i=window.setTimeout(function(){n+=1;var i=n,a=s.data,h=r,d=s.transport||t.fn.select2.ajaxDefaults.transport,u={type:s.type||"GET",cache:s.cache||!1,jsonpCallback:s.jsonpCallback||e,dataType:s.dataType||"json"},f=t.extend({},t.fn.select2.ajaxDefaults.params,u);a=a?a.call(l,c.term,c.page,c.context):null,h="function"==typeof h?h.call(l,c.term,c.page,c.context):h,o&&o.abort(),s.params&&(t.isFunction(s.params)?t.extend(f,s.params.call(l)):t.extend(f,s.params)),t.extend(f,{url:h,dataType:s.dataType,data:a,success:function(t){if(!(n>i)){var e=s.results(t,c.page);c.callback(e)}}}),o=d.call(l,f)},a)}}function y(e){var s,i,n=e,o=function(t){return""+t.text};t.isArray(n)&&(i=n,n={results:i}),t.isFunction(n)===!1&&(i=n,n=function(){return i});var a=n();return a.text&&(o=a.text,t.isFunction(o)||(s=a.text,o=function(t){return t[s]})),function(e){var s,i=e.term,a={results:[]};return""===i?void e.callback(n()):(s=function(n,a){var r,l;if(n=n[0],n.children){r={};for(l in n)n.hasOwnProperty(l)&&(r[l]=n[l]);r.children=[],t(n.children).each2(function(t,e){s(e,r.children)}),(r.children.length||e.matcher(i,o(r),n))&&a.push(r)}else e.matcher(i,o(n),n)&&a.push(n)},t(n().results).each2(function(t,e){s(e,a.results)}),void e.callback(a))}}function x(s){var i=t.isFunction(s);return function(n){var o=n.term,a={results:[]};t(i?s():s).each(function(){var t=this.text!==e,s=t?this.text:this;(""===o||n.matcher(o,s))&&a.results.push(t?this:{id:this,text:this})}),n.callback(a)}}function S(e,s){if(t.isFunction(e))return!0;if(!e)return!1;throw new Error(s+" must be a function or a falsy value")}function k(e){return t.isFunction(e)?e():e}function $(e){var s=0;return t.each(e,function(t,e){e.children?s+=$(e.children):s++}),s}function E(t,s,i,o){var a,r,l,c,h,d=t,u=!1;if(!o.createSearchChoice||!o.tokenSeparators||o.tokenSeparators.length<1)return e;for(;;){for(r=-1,l=0,c=o.tokenSeparators.length;c>l&&(h=o.tokenSeparators[l],r=t.indexOf(h),!(r>=0));l++);if(0>r)break;if(a=t.substring(0,r),t=t.substring(r+h.length),a.length>0&&(a=o.createSearchChoice.call(this,a,s),a!==e&&null!==a&&o.id(a)!==e&&null!==o.id(a))){for(u=!1,l=0,c=s.length;c>l;l++)if(n(o.id(a),o.id(s[l]))){u=!0;break}u||i(a)}}return d!==t?t:void 0}function T(e,s){var i=function(){};return i.prototype=new e,i.prototype.constructor=i,i.prototype.parent=e.prototype,i.prototype=t.extend(i.prototype,s),i}if(window.Select2===e){var O,P,I,A,R,D,N,M,L={x:0,y:0},O={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case O.LEFT:case O.RIGHT:case O.UP:case O.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case O.SHIFT:case O.CTRL:case O.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},F="<div class='select2-measure-scrollbar'></div>";N=t(document),R=function(){var t=1;return function(){return t++}}(),N.on("mousemove",function(t){L.x=t.pageX,L.y=t.pageY}),P=T(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(s){var n,o,a,c,u=".select2-results";this.opts=s=this.prepareOpts(s),this.id=s.id,s.element.data("select2")!==e&&null!==s.element.data("select2")&&s.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(s.element.attr("id")||"autogen"+R()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=h(function(){return s.element.closest("body")}),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.css(k(s.containerCss)),this.container.addClass(k(s.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(k(s.dropdownCssClass)),this.dropdown.data("select2",this),this.results=n=this.container.find(u),this.search=o=this.container.find("input.select2-input"),this.resultsPage=0,this.context=null,this.initContainer(),l(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",u,this.bind(this.highlightUnderEvent)),d(80,this.results),this.dropdown.on("scroll-debounced",u,this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),t(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),t.fn.mousewheel&&n.mousewheel(function(t,e,s,i){var o=n.scrollTop();i>0&&0>=o-i?(n.scrollTop(0),p(t)):0>i&&n.get(0).scrollHeight-n.scrollTop()+i<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),p(t))}),r(o),o.on("keyup-change input paste",this.bind(this.updateResults)),o.on("focus",function(){o.addClass("select2-focused")}),o.on("blur",function(){o.removeClass("select2-focused")}),this.dropdown.on("mouseup",u,this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown",function(t){t.stopPropagation()}),t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==s.maximumInputLength&&this.search.attr("maxlength",s.maximumInputLength);var a=s.element.prop("disabled");a===e&&(a=!1),this.enable(!a);var c=s.element.prop("readonly");c===e&&(c=!1),this.readonly(c),M=M||i(),this.autofocus=s.element.prop("autofocus"),s.element.prop("autofocus",!1),this.autofocus&&this.focus()},destroy:function(){var t=this.opts.element,s=t.data("select2");this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),s!==e&&(s.container.remove(),s.dropdown.remove(),t.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show())},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:n(t.attr("locked"),"locked")||n(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(s){var i,a,r,l,c=this;if(i=s.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=a=s.element),a&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in s)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),s=t.extend({},{populateResults:function(i,n,o){var a,r=this.opts.id;(a=function(i,n,l){var h,d,u,f,p,m,g,v,w,C;for(i=s.sortResults(i,n,o),h=0,d=i.length;d>h;h+=1)u=i[h],p=u.disabled===!0,f=!p&&r(u)!==e,m=u.children&&u.children.length>0,g=t("<li></li>"),g.addClass("select2-results-dept-"+l),g.addClass("select2-result"),g.addClass(f?"select2-result-selectable":"select2-result-unselectable"),p&&g.addClass("select2-disabled"),m&&g.addClass("select2-result-with-children"),g.addClass(c.opts.formatResultCssClass(u)),v=t(document.createElement("div")),v.addClass("select2-result-label"),C=s.formatResult(u,v,o,c.opts.escapeMarkup),C!==e&&v.html(C),g.append(v),m&&(w=t("<ul></ul>"),w.addClass("select2-result-sub"),a(u.children,w,l+1),g.append(w)),g.data("select2-data",u),n.append(g)})(n,i,0)}},t.fn.select2.defaults,s),"function"!=typeof s.id&&(r=s.id,s.id=function(t){return t[r]}),t.isArray(s.element.data("select2Tags"))){if("tags"in s)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+s.element.attr("id");s.tags=s.element.data("select2Tags")}if(a?(s.query=this.bind(function(t){var s,n,o,a={results:[],more:!1},r=t.term;o=function(e,s){var i;e.is("option")?t.matcher(r,e.text(),e)&&s.push(c.optionToData(e)):e.is("optgroup")&&(i=c.optionToData(e),e.children().each2(function(t,e){o(e,i.children)}),i.children.length>0&&s.push(i))},s=i.children(),this.getPlaceholder()!==e&&s.length>0&&(n=this.getPlaceholderOption(),n&&(s=s.not(n))),s.each2(function(t,e){o(e,a.results)}),t.callback(a)}),s.id=function(t){return t.id},s.formatResultCssClass=function(t){return t.css}):"query"in s||("ajax"in s?(l=s.element.data("ajax-url"),l&&l.length>0&&(s.ajax.url=l),s.query=b.call(s.element,s.ajax)):"data"in s?s.query=y(s.data):"tags"in s&&(s.query=x(s.tags),s.createSearchChoice===e&&(s.createSearchChoice=function(t){return{id:t,text:t}}),s.initSelection===e&&(s.initSelection=function(e,i){var a=[];t(o(e.val(),s.separator)).each(function(){var e=this,i=this,o=s.tags;t.isFunction(o)&&(o=o()),t(o).each(function(){return n(this.id,e)?(i=this.text,!1):void 0}),a.push({id:e,text:i})}),i(a)}))),"function"!=typeof s.query)throw"query function not defined for Select2 "+s.element.attr("id");return s},monitorSource:function(){var t,s=this.opts.element;s.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),t=this.bind(function(){var t,i=s.prop("disabled");i===e&&(i=!1),this.enable(!i);var t=s.prop("readonly");t===e&&(t=!1),this.readonly(t),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(k(this.opts.containerCssClass)),v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(k(this.opts.dropdownCssClass))}),s.on("propertychange.select2 DOMAttrModified.select2",t),this.mutationCallback===e&&(this.mutationCallback=function(e){e.forEach(t)}),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(this.mutationCallback),this.propertyObserver.observe(s.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var s=t.Event("select2-selecting",{val:this.id(e),object:e});return this.opts.element.trigger(s),!s.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){return t===e&&(t=!0),this._enabled===t?!1:(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface(),!0)},readonly:function(t){return t===e&&(t=!1),this._readonly===t?!1:(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,s,i,n,o=this.dropdown,a=this.container.offset(),r=this.container.outerHeight(!1),l=this.container.outerWidth(!1),c=o.outerHeight(!1),h=t(window).scrollLeft()+t(window).width(),d=t(window).scrollTop()+t(window).height(),u=a.top+r,f=a.left,p=d>=u+c,m=a.top-c>=this.body().scrollTop(),g=o.outerWidth(!1),v=h>=f+g,w=o.hasClass("select2-drop-above");this.opts.dropdownAutoWidth?(n=t(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),g=o.outerWidth(!1)+(n.scrollHeight===n.clientHeight?0:M.width),g>l?l=g:g=l,v=h>=f+g):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(e=this.body().offset(),u-=e.top,f-=e.left),w?(s=!0,!m&&p&&(s=!1)):(s=!1,!p&&m&&(s=!0)),v||(f=a.left+l-g),s?(u=a.top-c,this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),i=t.extend({top:u,left:f,width:l},k(this.opts.dropdownCss)),o.css(i)},shouldOpen:function(){var e;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){function e(){return{width:Math.max(document.documentElement.scrollWidth,t(window).width()),height:Math.max(document.documentElement.scrollHeight,t(window).height())}}var s,i,n=this.containerId,o="scroll."+n,a="resize."+n,r="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),s=t("#select2-drop-mask"),0==s.length&&(s=t(document.createElement("div")),s.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),s.hide(),s.appendTo(this.body()),s.on("mousedown touchstart click",function(e){var s,i=t("#select2-drop");i.length>0&&(s=i.data("select2"),s.opts.selectOnBlur&&s.selectHighlighted({noFocus:!0}),s.close(),e.preventDefault(),e.stopPropagation())})),this.dropdown.prev()[0]!==s[0]&&this.dropdown.before(s),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),i=e(),s.css(i).show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var l=this;this.container.parents().add(window).each(function(){t(this).on(a+" "+o+" "+r,function(){var s=e();t("#select2-drop-mask").css(s),l.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerId,s="scroll."+e,i="resize."+e,n="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).off(s).off(i).off(n)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return k(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var e,s,i,n,o,a,r,l=this.results;if(s=this.highlight(),!(0>s)){if(0==s)return void l.scrollTop(0);e=this.findHighlightableChoices().find(".select2-result-label"),i=t(e[s]),n=i.offset().top+i.outerHeight(!0),s===e.length-1&&(r=l.find("li.select2-more-results"),r.length>0&&(n=r.offset().top+r.outerHeight(!0))),o=l.offset().top+l.outerHeight(!0),n>o&&l.scrollTop(l.scrollTop()+(n-o)),a=i.offset().top-l.offset().top,0>a&&"none"!=i.css("display")&&l.scrollTop(l.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(e){for(var s=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<s.length;){i+=e;var n=t(s[i]);if(n.hasClass("select2-result-selectable")&&!n.hasClass("select2-disabled")&&!n.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(e){var i,n,o=this.findHighlightableChoices();return 0===arguments.length?s(o.filter(".select2-highlighted")[0],o.get()):(e>=o.length&&(e=o.length-1),0>e&&(e=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),i=t(o[e]),i.addClass("select2-highlighted"),this.ensureHighlightVisible(),n=i.data("select2-data"),void(n&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})))},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var s=t(e.target).closest(".select2-result-selectable");if(s.length>0&&!s.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(s))}else 0==s.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var t,e=this.results,s=e.find("li.select2-more-results"),i=this.resultsPage+1,n=this,o=this.search.val(),a=this.context;0!==s.length&&(t=s.offset().top-e.offset().top-e.height(),t<=this.opts.loadMorePadding&&(s.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:a,matcher:this.opts.matcher,callback:this.bind(function(t){n.opened()&&(n.opts.populateResults.call(this,e,t.results,{term:o,page:i,context:a}),n.postprocessResults(t,!1,!1),t.more===!0?(s.detach().appendTo(e).text(n.opts.formatLoadMore(i+1)),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):s.remove(),n.positionDropdown(),n.resultsPage=i,n.context=t.context)})})))},tokenize:function(){},updateResults:function(s){function i(){l.removeClass("select2-active"),d.positionDropdown()}function o(t){c.html(t),i()}var a,r,l=this.search,c=this.results,h=this.opts,d=this,u=l.val(),f=t.data(this.container,"select2-last-term");if((s===!0||!f||!n(u,f))&&(t.data(this.container,"select2-last-term",u),s===!0||this.showSearchInput!==!1&&this.opened())){var p=this.getMaximumSelectionSize();if(p>=1&&(a=this.data(),t.isArray(a)&&a.length>=p&&S(h.formatSelectionTooBig,"formatSelectionTooBig")))return void o("<li class='select2-selection-limit'>"+h.formatSelectionTooBig(p)+"</li>");if(l.val().length<h.minimumInputLength)return o(S(h.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+h.formatInputTooShort(l.val(),h.minimumInputLength)+"</li>":""),void(s&&this.showSearch&&this.showSearch(!0));if(h.maximumInputLength&&l.val().length>h.maximumInputLength)return void o(S(h.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+h.formatInputTooLong(l.val(),h.maximumInputLength)+"</li>":"");h.formatSearching&&0===this.findHighlightableChoices().length&&o("<li class='select2-searching'>"+h.formatSearching()+"</li>"),l.addClass("select2-active"),r=this.tokenize(),r!=e&&null!=r&&l.val(r),this.resultsPage=1,h.query({element:h.element,term:l.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(a){var r;return this.opened()?(this.context=a.context===e?null:a.context,this.opts.createSearchChoice&&""!==l.val()&&(r=this.opts.createSearchChoice.call(d,l.val(),a.results),r!==e&&null!==r&&d.id(r)!==e&&null!==d.id(r)&&0===t(a.results).filter(function(){return n(d.id(this),d.id(r))}).length&&a.results.unshift(r)),0===a.results.length&&S(h.formatNoMatches,"formatNoMatches")?void o("<li class='select2-no-results'>"+h.formatNoMatches(l.val())+"</li>"):(c.empty(),d.opts.populateResults.call(this,c,a.results,{term:l.val(),page:this.resultsPage,context:null}),a.more===!0&&S(h.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+d.opts.escapeMarkup(h.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(a,s),i(),void this.opts.element.trigger({type:"select2-loaded",items:a}))):void this.search.removeClass("select2-active")})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){u(this.search)},selectHighlighted:function(t){var e=this.highlight(),s=this.results.find(".select2-highlighted"),i=s.closest(".select2-result").data("select2-data");i?(this.highlight(e),this.onSelect(i,t)):t&&t.noFocus&&this.close()},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var t=this.select.children().first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&t||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.text()&&""===t.val())return t}},initContainerWidth:function(){function s(){var s,i,n,o,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(s=this.opts.element.attr("style"),s!==e)for(i=s.split(";"),o=0,a=i.length;a>o;o+=1)if(n=i[o].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==n&&n.length>=1)return n[1];return"resolve"===this.opts.width?(s=this.opts.element.css("width"),s.indexOf("%")>0?s:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=s.call(this);null!==i&&this.container.css("width",i)}}),I=T(P,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var e,s,i;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),e=this.search.get(0),e.createTextRange?(s=e.createTextRange(),s.collapse(!1),s.select()):e.setSelectionRange&&(i=this.search.val().length,e.setSelectionRange(i,i)),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},initContainer:function(){var e,s=this.container,i=this.dropdown;this.showSearch(this.opts.minimumResultsForSearch<0?!1:!0),this.selection=e=s.find(".select2-choice"),this.focusser=s.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+R()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){if(t.which===O.PAGE_UP||t.which===O.PAGE_DOWN)return void p(t);switch(t.which){case O.UP:case O.DOWN:return this.moveHighlight(t.which===O.UP?-1:1),void p(t);case O.ENTER:return this.selectHighlighted(),void p(t);case O.TAB:return void this.selectHighlighted({noFocus:!0});case O.ESC:return this.cancel(t),void p(t)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==O.TAB&&!O.isControl(t)&&!O.isFunctionKey(t)&&t.which!==O.ESC){if(this.opts.openOnEnter===!1&&t.which===O.ENTER)return void p(t);if(t.which==O.DOWN||t.which==O.UP||t.which==O.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void p(t)}return t.which==O.DELETE||t.which==O.BACKSPACE?(this.opts.allowClear&&this.clear(),void p(t)):void 0}})),r(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),m(t),this.close(),this.selection.focus())})),e.on("mousedown",this.bind(function(e){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),p(e)})),i.on("mousedown",this.bind(function(){this.search.focus()})),e.on("focus",this.bind(function(t){p(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var e=this.selection.data("select2-data");if(e){var s=this.getPlaceholderOption();this.opts.element.val(s?s.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection([]),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(s){s!==e&&null!==s&&(t.updateSelection(s),t.close(),t.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var t;return(t=this.getPlaceholderOption())!==e&&t.is(":selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val()
},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),s=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var i=t.find(":selected");e(s.optionToData(i))}:"data"in e&&(e.initSelection=e.initSelection||function(s,i){var o=s.val(),a=null;e.query({matcher:function(t,s,i){var r=n(o,e.id(i));return r&&(a=i),r},callback:t.isFunction(i)?function(){i(a)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,s){var i=0,o=this;if(this.findHighlightableChoices().each2(function(t,e){return n(o.id(e.data("select2-data")),o.opts.element.val())?(i=t,!1):void 0}),s!==!1&&this.highlight(e===!0&&i>=0?i:0),e===!0){var a=this.opts.minimumResultsForSearch;a>=0&&this.showSearch($(t.results)>=a)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var s=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.close(),e&&e.noFocus||this.selection.focus(),n(s,this.id(t))||this.triggerChange({added:t,removed:i})}},updateSelection:function(t){var s,i,n=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),n.empty(),s=this.opts.formatSelection(t,n,this.opts.escapeMarkup),s!==e&&n.append(s),i=this.opts.formatSelectionCssClass(t,n),i!==e&&n.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,s=!1,i=null,n=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(s=arguments[1]),this.select)this.select.val(t).find(":selected").each2(function(t,e){return i=n.optionToData(e),!1}),this.updateSelection(i),this.setPlaceholder(),s&&this.triggerChange({added:i,removed:o});else{if(!t&&0!==t)return void this.clear(s);if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){n.opts.element.val(t?n.id(t):""),n.updateSelection(t),n.setPlaceholder(),s&&n.triggerChange({added:t,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t,s){var i;return 0===arguments.length?(i=this.selection.data("select2-data"),i==e&&(i=null),i):void(t&&""!==t?(i=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),s&&this.triggerChange({added:t,removed:i})):this.clear(s))}}),A=T(P,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitilize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),s=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var i=[];t.find(":selected").each2(function(t,e){i.push(s.optionToData(e))}),e(i)}:"data"in e&&(e.initSelection=e.initSelection||function(s,i){var a=o(s.val(),e.separator),r=[];e.query({matcher:function(s,i,o){var l=t.grep(a,function(t){return n(t,e.id(o))}).length;return l&&r.push(o),l},callback:t.isFunction(i)?function(){for(var t=[],s=0;s<a.length;s++)for(var o=a[s],l=0;l<r.length;l++){var c=r[l];if(n(o,e.id(c))){t.push(c),r.splice(l,1);break}}i(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},initContainer:function(){var e,s=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(s);var i=this;this.selection.on("mousedown",".select2-search-choice",function(){i.search[0].focus(),i.selectChoice(t(this))}),this.search.attr("id","s2id_autogen"+R()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var s=e.find(".select2-search-choice-focus"),i=s.prev(".select2-search-choice:not(.select2-locked)"),n=s.next(".select2-search-choice:not(.select2-locked)"),o=f(this.search);if(s.length&&(t.which==O.LEFT||t.which==O.RIGHT||t.which==O.BACKSPACE||t.which==O.DELETE||t.which==O.ENTER)){var a=s;return t.which==O.LEFT&&i.length?a=i:t.which==O.RIGHT?a=n.length?n:null:t.which===O.BACKSPACE?(this.unselect(s.first()),this.search.width(10),a=i.length?i:n):t.which==O.DELETE?(this.unselect(s.first()),this.search.width(10),a=n.length?n:null):t.which==O.ENTER&&(a=null),this.selectChoice(a),p(t),void(a&&a.length||this.open())}if((t.which===O.BACKSPACE&&1==this.keydowns||t.which==O.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),void p(t);if(this.selectChoice(null),this.opened())switch(t.which){case O.UP:case O.DOWN:return this.moveHighlight(t.which===O.UP?-1:1),void p(t);case O.ENTER:return this.selectHighlighted(),void p(t);case O.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case O.ESC:return this.cancel(t),void p(t)}if(t.which!==O.TAB&&!O.isControl(t)&&!O.isFunctionKey(t)&&t.which!==O.BACKSPACE&&t.which!==O.ESC){if(t.which===O.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===O.PAGE_UP||t.which===O.PAGE_DOWN)&&p(t),t.which===O.ENTER&&p(t)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))})),this.container.on("click",s,this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",s,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(s){s!==e&&null!==s&&(t.updateSelection(s),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),s=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(s>0?s:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var i=[],n=[],o=this;t(e).each(function(){s(o.id(this),i)<0&&(i.push(o.id(this)),n.push(this))}),e=n,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,e){this.triggerSelect(t)&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(s){var i,n,o=!s.locked,a=t("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=t("<li class='select2-search-choice select2-locked'><div></div></li>"),l=o?a:r,c=this.id(s),h=this.getVal();i=this.opts.formatSelection(s,l.find("div"),this.opts.escapeMarkup),i!=e&&l.find("div").replaceWith("<div>"+i+"</div>"),n=this.opts.formatSelectionCssClass(s,l.find("div")),n!=e&&l.addClass(n),o&&l.find(".select2-search-choice-close").on("mousedown",p).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),p(e))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",s),l.insertBefore(this.searchContainer),h.push(c),this.setVal(h)},unselect:function(t){var e,i,n=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";e=t.data("select2-data"),e&&(i=s(this.id(e),n),i>=0&&(n.splice(i,1),this.setVal(n),this.select&&this.postprocessResults()),t.remove(),this.opts.element.trigger({type:"removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}))},postprocessResults:function(t,e,i){var n=this.getVal(),o=this.results.find(".select2-result"),a=this.results.find(".select2-result-with-children"),r=this;o.each2(function(t,e){var i=r.id(e.data("select2-data"));s(i,n)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),a.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&i!==!1&&r.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&S(r.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+r.opts.formatNoMatches(r.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-a(this.search)},resizeSearch:function(){var t,e,s,i,n,o=a(this.search);t=g(this.search)+10,e=this.search.offset().left,s=this.selection.width(),i=this.selection.offset().left,n=s-(e-i)-o,t>n&&(n=s-o),40>n&&(n=s-o),0>=n&&(n=t),this.search.width(n)},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),o(t,this.opts.separator))},setVal:function(e){var i;this.select?this.select.val(e):(i=[],t(e).each(function(){s(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(t,e){for(var e=e.slice(0),t=t.slice(0),s=0;s<e.length;s++)for(var i=0;i<t.length;i++)n(this.opts.id(e[s]),this.opts.id(t[i]))&&(e.splice(s,1),s--,t.splice(i,1),i--);return{added:e,removed:t}},val:function(s,i){var n,o=this;if(0===arguments.length)return this.getVal();if(n=this.data(),n.length||(n=[]),!s&&0!==s)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:n}));if(this.setVal(s),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(n,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var s=t.map(e,o.id);o.setVal(s),o.updateSelection(e),o.clearSearch(),i&&o.triggerChange(this.buildChangeDetails(n,this.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],s=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(s.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,s){var i,n,o=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(n=this.data(),e||(e=[]),i=t.map(e,function(t){return o.opts.id(t)}),this.setVal(i),this.updateSelection(e),this.clearSearch(),s&&this.triggerChange(this.buildChangeDetails(n,this.data())),void 0)}}),t.fn.select2=function(){var i,n,o,a,r,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","readonly","positionDropdown","data","search"],h=["val","opened","isFocused","container","data"],d={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])i=0===l.length?{}:t.extend({},l[0]),i.element=t(this),"select"===i.element.get(0).tagName.toLowerCase()?r=i.element.prop("multiple"):(r=i.multiple||!1,"tags"in i&&(i.multiple=r=!0)),n=r?new A:new I,n.init(i);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(s(l[0],c)<0)throw"Unknown method: "+l[0];if(a=e,n=t(this).data("select2"),n===e)return;if(o=l[0],"container"===o?a=n.container:"dropdown"===o?a=n.dropdown:(d[o]&&(o=d[o]),a=n[o].apply(n,l.slice(1))),s(l[0],h)>=0)return!1}}),a===e?this:a},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,s,i){var n=[];return w(t.text,s.term,n,i),n.join("")},formatSelection:function(t,s,i){return t?i(t.text):e},sortResults:function(t){return t},formatResultCssClass:function(){return e},formatSelectionCssClass:function(){return e},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){var s=e-t.length;return"Please enter "+s+" more character"+(1==s?"":"s")},formatInputTooLong:function(t,e){var s=t.length-e;return"Please delete "+s+" character"+(1==s?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t.id},matcher:function(t,e){return(""+e).toUpperCase().indexOf((""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:E,escapeMarkup:C,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(){return null}},t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:b,local:y,tags:x},util:{debounce:c,markMatch:w,escapeMarkup:C},"class":{"abstract":P,single:I,multi:A}}}}(jQuery);