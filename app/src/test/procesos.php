<?php
include '../../bknd/autoload.php';

$external = new ExternalLibs();
$external->addDefault();
$external->addExternal('google-maps');

?>
<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<title>Mapa</title>
	<?php
    echo $external->imprimir('css');
    ?>
</head>
<body>
	<div id="mapa-div" style="height:600px"></div>
</body>
<?php
echo $external->imprimir('js');
?>
<script>
var __mapa = [];
var arr_marcadores = [];

function initialize() {
    var mapOptions = {
        center: new google.maps.LatLng(15.4338069,-90.4635312),
        zoom: 7,
        mapTypeId: google.maps.MapTypeId.ROADMAP,
        disableDefaultUI: true,
        zoomControl: true,
        zoomControlOptions: {
            style: google.maps.ZoomControlStyle.SMALL,
            position: google.maps.ControlPosition.RIGHT_BOTTOM
        }
    };
    __mapa = new google.maps.Map(document.getElementById("mapa-div"), mapOptions);

    $.each(arr_escuelas, function (index, escuela) {
    	crearMarcador(escuela[1], escuela[2]);
    });
}

function crearMarcador(lat, lng) {
	var marker = new google.maps.Marker({
        map: __mapa,
        position: new google.maps.LatLng(lat, lng)
    });
}

var arr_escuelas = [
	['01-16-2134-43',   14.27813998, -90.58370359],
	['01-16-6035-42',   14.27813998, -90.58370359],
	['01-16-7330-42',   14.27991189, -90.56335509],
	['01-16-7520-43',   14.27991189, -90.56335509],
	['01-16-2109-43',   14.28949626, -90.5649743],
	['01-16-6089-42',   14.28949626, -90.5649743],
	['01-16-2117-43',   14.31659683, -90.55813459],
	['01-16-8145-42',   14.31659683, -90.55813459],
	['01-16-2104-43',   14.33320898, -90.59574477],
	['01-16-6079-42',   14.33320898, -90.59574477],
	['01-16-2115-43',   14.33616611, -90.51414568],
	['01-16-6037-42',   14.33616611, -90.51414568],
	['01-16-2087-42',   14.33816529, -90.50297296],
	['01-16-2107-43',   14.33816529, -90.50297296],
	['01-16-2100-43',   14.3438892, -90.56977655],
	['01-16-6036-42',   14.3438892, -90.56977655],
	['01-16-2106-43',   14.35643129, -90.50240449],
	['01-16-6031-42',   14.35643129, -90.50240449],
	['01-16-2112-43',   14.36722904, -90.56366002],
	['01-16-6033-42',   14.36722904, -90.56366002],
	['01-16-2086-42',   14.4067752, -90.54232287],
	['01-16-2105-43',   14.4067752, -90.54232287],
	['01-16-6872-43',   14.4067752, -90.54232287],
	['01-16-8108-42',   14.4067752, -90.54232287],
	['01-16-2110-43',   14.41788992, -90.49435024],
	['01-16-6236-42',   14.41788992, -90.49435024],
	['01-16-2114-43',   14.42885145, -90.49551649],
	['01-16-7523-42',   14.42885145, -90.49551649],
	['01-16-2113-43',   14.45675689, -90.55625074],
	['01-16-6376-42',   14.45675689, -90.55625074],
	['01-16-6433-43',   14.45675689, -90.55625074],
	['01-16-8104-42',   14.45675689, -90.55625074],
	['01-16-2116-43',   14.4583782, -90.50710071],
	['01-16-6375-42',   14.4583782, -90.50710071],
	['01-16-6380-42',   14.46517123, -90.53102743],
	['01-16-6437-43',   14.46517123, -90.53102743],
	['01-16-8105-43',   14.46517123, -90.53102743],
	['01-16-8314-42',   14.4744977, -90.53140771],
	['01-16-8316-43',   14.4744977, -90.53140771],
	['01-16-2085-42',   14.47456242, -90.52147634],
	['01-16-2102-43',   14.47456242, -90.52147634],
	['01-16-2108-43',   14.47734854, -90.4971683],
	['01-16-6032-42',   14.47734854, -90.4971683],
	['01-16-2135-45',   14.48151864, -90.53319993],
	['01-16-2142-46',   14.48151864, -90.53319993],
	['01-16-2099-43',   14.48302261, -90.51402749],
	['01-16-6377-42',   14.48302261, -90.51402749],
	['01-16-6434-43',   14.48302261, -90.51402749],
	['01-16-2120-42',   14.4966287, -90.52374465],
	['01-16-2120-43',   14.4966287, -90.52374465],
	['01-16-6379-42',   14.4966287, -90.52374465],
	['01-16-6436-43',   14.4966287, -90.52374465],
	['01-16-6972-43',   14.50505611, -90.52007865],
	['01-16-7810-42',   14.50505611, -90.52007865],
	['01-16-7332-42',   14.50680398, -90.49266462],
	['01-16-9086-43',   14.50680398, -90.49266462],
	['01-16-8693-43',   14.50835614, -90.51138946],
	['01-16-2111-43',   14.50924061, -90.51598393],
	['01-16-6549-42',   14.50924061, -90.51598393],
	['01-16-6603-43',   14.522766, -90.538761],
	['01-16-2121-43',   14.53128695, -90.4952563],
	['01-16-7809-42',   14.53128695, -90.4952563],
	['01-16-8106-43',   14.53420383, -90.51400955],
	['01-16-8680-42',   14.53420383, -90.51400955],
	['01-16-6435-43',   14.53839704, -90.50833662],
	['01-16-8674-42',   14.53839704, -90.50833662],
	['01-16-8788-42',   14.53839704, -90.50833662],
	['01-16-8789-43',   14.53839704, -90.50833662],
	['01-16-2084-42',   14.53872101, -90.51144471],
	['01-16-2103-43',   14.53872101, -90.51144471],
	['01-16-2101-43',   14.54988345, -90.52278046],
	['01-16-6267-43',   14.54988345, -90.52278046],
	['01-16-6524-42',   14.54988345, -90.5227804]
];

$(document).ready(function () {
	initialize();
});
</script>
</html>